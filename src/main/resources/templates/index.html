<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<link rel="stylesheet" type="text/css" th:href="@{/style.css}" >
	<meta charset="UTF-8">
	<title>作業者マスタメンテナンス</title>
</head>
<body>
	<header>
		<h1>
			<a href="/index">作業者マスタメンテナンス</a>
		</h1>
		<form th:action="@{/edit}" method="post">
		<input type="submit" name="insert" class="btn_insert" value="新規登録">
		</form>
    </header>
	 <div class="contents">
		<div class="search">
		<form method="post" th:action="@{/index}" th:object="${formModel}">
		<table class="search_table">
			<tr>
	            <th>検索条件</th>
	        </tr>
	        <tr>
	            <td>作業者ID</td>
	            <td><input type="text" name="user_id" th:value="${searchData.user_id}" maxlength='30'></td>
	        </tr>
	         <tr>
	            <td>作業者名</td>
	            <td><input type="text" name="user_nm" th:value="${searchData.user_nm}" maxlength='30'></td>
	        </tr>
	         <tr>
	            <td>部門</td>
	            <td>
				<select name="bumon_cd">
					<option value=""></option>
					<option
						th:each="bumon : ${bumonList}"
						th:value="${bumon.bumon_cd}"
						th:text="${bumon.bumon_mei}"
						th:selected="${bumon.bumon_cd == searchData.selectedBumonCd}">
		            </option>
	       	    </select>
	        </td>
	        </tr>
	         <tr>
	            <td>無効を含む</td>
	            <td><input type="checkbox" name="muko_flg" th:checked="${searchData.muko_flg}" value="1"/></td>
	        </tr>
	         <tr>
	            <td><input class="btn_search" type="submit" value="検索"></td>
	        </tr>
		</table>
	    </form>
	  </div>
	  <div class="result">
	      <table class="result_table">
	        <tr>
	 	       <th>作業者ID</th>
	        	<th>作業者名</th>
	        	<th>部門</th>
	        	<th>作業場</th>
	        	<th>メールアドレス</th>
	        	<th>携帯番号</th>
	        	<th>登録日</th>
	        	<th>更新日</th>
	        	<th>無効フラグ</th>
	            <th></th>
	        </tr>
	        <tr th:each="userL : ${userList}">
	            <td><p th:text="${userL.user_id}"></p></td>
	            <td><p th:text="${userL.user_nm}"></p></td>
	            <td><p th:text="${userL.bumon_mei}"></p></td>
	            <td><p th:text="${userL.sagyoba_mei}"></p></td>
	            <td><p th:text="${userL.address}"></p></td>
	            <td><p th:text="${userL.phone}"></p></td>
	            <td><p th:text="${#temporals.format(userL.torokubi, 'yyyy/MM/dd')}"></p></td>
	            <td><p th:text="${#temporals.format(userL.koshinbi, 'yyyy/MM/dd')}"></p></td>
	            <td><input type="checkbox" th:checked="${userL.muko_flg}" disabled></td>
	            <td>
	            <form th:action="@{/edit}" method="post" th:object="${updFormModel}">
	                    <input type="submit" name="update" class="btn_edit" value="編集">
	                    <input type="hidden" name="kanri_no" th:value="${userL.kanri_no}">
	            </form>
	            </td>
	        </tr>
	    </table>
	  </div>
	</div>
	<footer>
    <br>
    </footer>
</body>
</html>